<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
    maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="css/overrides.css">

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Version Control with Git</h1>
          <h3>A practical guide</h3>
          <p>
          <small>Created by <a href="dge.io">Daniel Ge</a> for CIS 380</small>
          </p>
        </section>

        <section>
          <h2>Table of contents</h2>
          <ol>
            <li><a href="#/2">Introduction</a></li>
            <li><a href="#/3">How to use Git</a></li>
            <li><a href="#/4">How to grok Git</a></li>
            <li><a href="#/5">Using Git like a ninja</a></li>
            <li><a href="#/6">Additional readings</a></li>
          </ol>
        </section>

        <!-- Introduction slides -->
        <section>
          <section>
            <h2>What is version control?</h2>
            <p>Version control is the management of changes in source code</p>
            <p>The basic unit of versioning history is a
            <strong>revision</strong> or a <strong>commit</strong>.</p>
          </section>

          <section>
            <h3>A brief history of version control</h3>

            <p>Legacy version control (centralized):</p>
            <ul>
              <li>RCS (1982)</li>
              <li>CVS (1990)</li>
              <li>SVN (2000)</li>
            </ul>

            <p>Modern version control (distributed):</p>
            <ul>
              <li>Git (2005)</li>
              <li>Mercurial (2005)</li>
            </ul>

          </section>

          <section>
            <h2>What is Git?</h2>
            <p>Git is a <strong>distributed version control</strong> system for
            <strong>source code management</strong>.</p>

            <aside class="notes">
              <p>The difference between centralized and distributed:</p>
              <ul>
                <li>Centralized: One central server, everyone else is client and
                must rely on server to get metadata.</li>
                <li>Distributed: Everyone's a server (sort of). Cloning the
                server is enough to get metadata.</li>
              </ul>
              <p>If your server goes down, then you're in trouble if you're
              using SVN.</p>
            </aside>
          </section>

          <section>
            <h3>Who knows how to use SVN?</h3>

            <aside class="notes">
              If you do, unlearn everything you know. It will only impeded you
              later on!
            </aside>
          </section>
        </section>

        <!-- How to use git (basic workflow) -->
        <section>
          <section>
            <h2>How to use Git</h2>
            <aside class="notes">
              And now, we start with the interactive section of the talk. If
              you'd like to follow along, bring up a terminal on your computer.
            </aside>
          </section>

          <section>
            <h3>Brief installation guide</h3>

            <h4>Linux (eniac)</h4>
            <p>It's already preinstalled</p>

            <h4>Linux (Ubuntu)</h4>
            <pre><code data-trim>
            $ sudo apt-get install git
            </code></pre>

            <div class="fragment">
              <h4>Windows</h4>
              <p>Go to <a href="git-scm.com">git-scm.com</a></p>
            </div>
            <div class="fragment">
              <h4>OS X</h4>
              <p>Go to <a href="git-scm.com">git-scm.com</a></p>
              <p>Or install via Homebrew</p>
            </div>
          </section>

          <section>
            <h3>Let's start off</h3>

            <pre><code class="no-highlight" data-trim>
$ mkdir project
            </code></pre>

            <pre><code data-trim>
$ git init
Initialized empty Git repository in /path/to/project/.git/
            </code></pre>

            <pre class="fragment"><code data-trim>
$ git status
# On branch master
#
# Initial commit
#
nothing to commit (create/copy files and use "git add" to track)
            </code></pre>

            <aside class="notes">
              <p>git init: Initializes directory with git metadata. Do this in
              top-level directory of your project.</p>
              <p>git status: Initializes directory with git metadata. Do this in
              top-level directory of your project.</p>
            </aside>
          </section>

          <section>
            <h3>Let's add some files first</h3>

            <pre><code data-trim>
$ curl -O "http://files.danielge.org/hello.c"
$ curl -O "http://files.danielge.org/fizzbuzz.c"
            </code></pre>
            <p><small>If curl is not installed, you can just use "wget
              &lt;url&gt;"</small></p>

            <pre class="fragment"><code data-trim>
$ git status
# On branch master
#
# Initial commit
#
# Untracked files:
#   (use "git add &lt;file&gt;..." to include in what will be committed)
#
#	fizzbuzz.c
#	hello.c
nothing added to commit but untracked files present (use "git add" to track)
            </code></pre>

            <aside class="notes">
              <p>curl and wget are commands for downloading files</p>
              <p>Untracked files are files that aren't in the repository.</p>
              <p>Your working directory is now considered "dirty"</p>
            </aside>
          </section>

          <section>
            <h3>Let's actually add some files</h3>

            <pre><code data-trim>
$ git add fizzbuzz.c hello.c
            </code></pre>

            <pre class="fragment"><code data-trim>
$ git status
# On branch master
#
# Initial commit
#
# Changes to be committed:
#   (use "git rm --cached &lt;file&gt;..." to unstage)
#
#	new file:   fizzbuzz.c
#	new file:   hello.c
#
            </code></pre>

            <p class="fragment">We have now <strong>staged</strong> these files
            for comitting. However, remember, we have <strong>not</strong> made
            a commit yet. </p>

            <p class="fragment">Untracked files must be explicitly added.</p>
          </section>

          <section>
            <h3>The commit</h3>

            <pre><code data-trim>
$ git commit -m "First commit"
[master (root-commit) 2e14363] First commit
 2 files changed, 22 insertions(+)
 create mode 100644 fizzbuzz.c
 create mode 100644 hello.c
            </code></pre>

            <pre class="fragment"><code data-trim>
$ git status
# On branch master
nothing to commit, working directory clean
            </code></pre>

            <p class="fragment">Let's make a change</p>

            <pre class="fragment"><code data-trim>
$ git status
# On branch master
# Changes not staged for commit:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
#	modified:   hello.c
#
no changes added to commit (use "git add" and/or "git commit -a")
            </code></pre>

            <aside class="notes">
              Just a minor nitpick, supplying -m is generally ill-advised
              regarding style conventions.
            </aside>
          </section>

          <section>
            <h3>Making changes</h3>

            <pre><code data-trim>
$ git diff
diff --git a/hello.c b/hello.c
index 935ca88..385b7a6 100644
--- a/hello.c
+++ b/hello.c
@@ -1,6 +1,6 @@
 #include &lt;stdio.h&gt;

 int main (int argc, char** argv) {
-    printf("Hello World!");
+    printf("Hello World!\n");
     return 1;
 }
            </code></pre>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ git add hello.c
$ git commit -m "Added newline to Hello World"
[master 00fa2a6] Added newline to Hello World
 1 file changed, 1 insertion(+), 1 deletion(-)
            </code></pre>

            <p class="fragment">Note that the next <tt>git diff</tt> will not
            show anything.</p>

            <aside class="notes">
              Notice that our working directory is once again dirty.
            </aside>
          </section>

          <section>
            <h3>Sharing your changes</h3>

            <p class="fragment">Our commits are local. We need to push to
            an external server.</p>

            <div class="fragment">
              <p>Let's invoke a bit of magic first:</p>
              <pre><code data-trim>
$ git remote add origin git@github.com:DanGe42/git-presentation-example.git
              </code></pre>
            </div>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ git push
Counting objects: 7, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (7/7), done.
Writing objects: 100% (7/7), 774 bytes, done.
Total 7 (delta 1), reused 0 (delta 0)
To git@github.com:DanGe42/git-presentation-example.git
 * [new branch]      master -> master
 Branch master set up to track remote branch master from origin.
            </code></pre>

            <aside class="notes">
              <p>If you already have a new repository created, you can follow
              along. Otherwise, try to follow along, but don't worry if you fall
              behind; this is the end of the interactive portion of the
              presentation.</p>
              <p><small>If you are following this from home, do have a
              repository set up.</small></p>
              <p>Note that you may have to run 'git push -u origin master' first
              because of an empty repository.</p>
            </aside>
          </section>

          <section>
            <h3>Pulling new changes</h3>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ git pull
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 7 (delta 1), reused 7 (delta 1)
Unpacking objects: 100% (7/7), done.
From github.com:DanGe42/git-presentation-example
 * branch            master     -> FETCH_HEAD
            </code></pre>

            <p class="fragment">If running this for the first time, you may need
            to use "git pull origin master" instead.</p>

            <p class="fragment">You can also use "git fetch" and "git merge
            origin/master" instead</p>

          </section>

          <section>
            <h3>Seeing what you've done</h3>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ git log
commit 00fa2a6da9feb33a09f84c14e91ec91f259d612c
Author: Daniel Ge &lt;dange@seas.upenn.edu&gt;
Date:   Fri Sep 13 01:29:10 2013 -0400

    Added newline to Hello World

commit 2e143630cfd27f297362ca7428979b52136b7cf1
Author: Daniel Ge &lt;dange@seas.upenn.edu&gt;
Date:   Fri Sep 13 01:12:13 2013 -0400

    First commit
            </code></pre>

          </section>

          <section>
            <h3>The other way of initializing a repository</h3>
            <p class="fragment">If you have an already existing repository, you
            can just run:</p>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ git clone git@github.com:DanGe42/git-presentation-example.git
Cloning into 'git-presentation-example'...
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (6/6), done.
remote: Total 7 (delta 1), reused 7 (delta 1)
Receiving objects: 100% (7/7), done.
Resolving deltas: 100% (1/1), done.
            </code></pre>

            <pre class="fragment"><code class="no-highlight" data-trim>
$ ls
git-presentation-example
            </code></pre>
          </section>

          <section>
            <h3>Any questions?</h3>
          </section>
        </section>

        <!-- How to grok git -->
        <section>
          <section>
            <h2>How to grok Git</h2>
            <h3>Super duper useful tips</h3>
          </section>

          <section>
            <h3>The .gitignore file</h3>

            <p>Files that are generated (for example, compiled object or
            executable files) should not be added to the repository.</p>

            <div class="fragment">
              <h4>Example .gitignore</h4>

              <pre><code class="no-highlight" data-trim>
# C compiled files
*.o
bin/

# Editor temporary files
*.swp
              </code></pre>

              <p>All files ending in .swp and .o and all files in the bin/
              folder will now be ignored. They will no longer show up in "git
              status".</p>
            </div>

            <aside class="notes">
              By the way, this is a good .gitignore to start with on your
              projects.
            </aside>
          </section>

          <section>
            <h3>Keeping your history clean</h3>

            <p>Commits should represent <strong>working</strong> code. In other
            words, your code should compile and, ideally, pass all tests (if you
            have any).</p>

            <p class="fragment">Git has a staging area. This is where you can
            organize your code before you make the commit. Use it to your
            advantage!</p>

            <p class="fragment">Commits should be small, atomic, and
            to-the-point.</p>
          </section>

          <section>
            <h3>Commit early and commit often!</h3>
          </section>

          <section>
            <h3>Made a mistake?</h3>

            <div class="fragment">
              <h4>git revert</h4>
              <p>Reverses an earlier commit by creating a new commit.</p>
            </div>

            <div class="fragment">
              <h4>git reset</h4>
              <p>One of the most confusing Git commits. Here's what you need to
              know:</p>

              <ul>
                <li><code>git reset</code>: Unstages all your changes (the
                opposite of <code>git add</code></li>
                <li><code>git reset --hard</code>: The sledgehammer that removes
                all uncommitted changes. Be careful with this command!</li>
              </ul>
            </div>
            <pre class="fragment"><code data-trim>
            </code></pre>

            <aside class="notes">
              <p>git revert: Useful for undoing commits already pushed</p>
            </aside>
          </section>

          <section>
            <h3>Resolving merge conflicts</h3>
            <!-- TODO -->
            <!-- merge conflicts -->
            <!-- stashing -->
          </section>

          <section>
            <h3>Git bad practices (in order of severity)</h3>

            <ul>
              <li class="fragment"><code>git add -A</code> or <code>git add
              .</code> or <code>git add -u</code>:
              Bad <em>unless</em> you review your changes with
              <code>git status</code> afterwards.</li>

              <li class="fragment"><code>git commit -a</code>: Stages all
              changes and immediately starts a commit. Though, that's not as bad
              as...</li>

              <li class="fragment"><code>git commit -am &lt;message&gt;</code>:
              Stages all changes and creates a commit with a message without
              letting you know what changes you committed.</li>

              <li class="fragment"><code>git push -f</code>: No, just no.</li>
            </ul>

            <pre class="fragment"><code class="bash" data-trim>
              alias yolo='git commit -am "Fuck it"; git push -f origin master'
            </code></pre>

            <aside class="notes">
              The simple lesson here is that you really need to know what you're
              doing. 'git status' should be among your most commonly run
              commands to ensure that you didn't screw anything up.
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h2>Using Git like a ninja</h2>
            <h3>The useful, dark corners of Git</h3>
          </section>

          <section>
            <h3>git aliases</h3>
            <!-- TODO: talk about aliases -->
          </section>

          <section>
            <h3>Colors!</h3>
            <!-- TODO: how to enable colors -->
          </section>

          <section>
            <h3>git add -p</h3>
          </section>

          <section>
            <h3>git status -sb</h3>
          </section>

          <section>
            <h3>git log --oneline --decorate --graph</h3>
          </section>

          <section>
            <h3>git bisect</h3>
          </section>

          <section>
            <h3>git grep</h3>
          </section>
        </section>

        <section>
          <h2>Additional readings</h2>

          <h4>Topics</h4>
          <ul>
            <li>Modifying history (e.g. rebasing)</li>
            <li>Hooks (automating Git)</li>
            <li>Remotes (pushing your code to different servers)</li>
            <li>Branches</li>
            <li>Low-level internals (e.g. blobs, indexes)</li>
          </ul>

          <h4>Useful websites/books</h4>
          <ul>
            <li>Pro Git</li>
            <li>Version Control with Git</li>
            <li>Git Immersion</li>
          </ul>
        </section>


      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        transition: 'fade',
        transitionSpeed: 'fast',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          //{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          //{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          //{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
